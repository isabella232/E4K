<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="557px" preserveAspectRatio="none" style="width:738px;height:557px;background:#FFFFFF;" version="1.1" viewBox="0 0 738 557" width="738px" zoomAndPan="magnify"><defs><filter height="300%" id="f160sgze0lyuh4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><path d="M530.2118,14.2865 C532.8358,8.8175 538.5695,8.318 541.8044,13.6296 C546.5801,6.6262 551.5706,6 556.6456,13.3194 C560.9746,6.6094 565.2789,7.1369 569.3051,13.6101 C572.0956,8.0016 577.9168,7.0869 582.0863,11.9227 C585.9725,7.2932 589.4466,7.2218 593.3563,11.8944 C597.724,6.9664 602.646,6.5855 605.609,13.3646 C610.6556,6.5361 614.8832,6.7127 618.9148,14.3014 C622.2259,7.9413 627.3416,7.9473 631.0354,13.9255 C638.9529,16.9346 641.4379,23.9142 634.1416,29.8845 C641.2724,35.5384 643.0975,41.4461 634.3575,47.2967 C641.6212,52.8076 640.9483,58.0891 633.6314,62.9225 C641.5934,68.1078 640.3388,74.5031 632.4992,78.5432 C629.7646,85.4432 623.6354,85.9899 619.0258,80.5986 C617.3554,87.6153 611.4782,88.8993 607.1413,83.0644 C604.3243,89.6931 598.7442,92.1249 593.0665,86.2966 C590.1086,91.9656 585.5023,94.4269 580.5836,88.3871 C576.3354,93.3231 570.2401,92.4978 567.784,86.3226 C562.7416,90.4558 558.8978,89.325 555.9884,83.735 C550.198,88.393 544.1104,87.2929 541.9695,79.5945 C538.6398,85.2874 533.4969,84.8863 530.7141,79.0602 C521.7312,74.2264 521.3105,68.7186 527.4861,61.1524 C521.4256,57.3086 520.5167,52.1089 526.2034,47.1864 C517.9468,41.0971 519.3678,34.0065 528.6728,30.5192 C521.3057,25.0215 520.8827,18.2013 530.2118,14.2865 " fill="#FFFFFF" filter="url(#f160sgze0lyuh4)" style="stroke:#000000;stroke-width:1.5;"/><!--MD5=[16dfc0f043b275bfb88f06dfb41d8685]
cluster identity manager--><polygon fill="#FFFFFF" filter="url(#f160sgze0lyuh4)" points="16,109.1434,139,109.1434,146,132.7527,721,132.7527,721,442.1434,16,442.1434,16,109.1434" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="146" y1="132.7527" y2="132.7527"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="117" x="20" y="125.6766">identity manager</text><path d="M15,480.1434 C15,470.1434 105,470.1434 105,470.1434 C105,470.1434 195,470.1434 195,480.1434 L195,540.1434 C195,550.1434 105,550.1434 105,550.1434 C105,550.1434 15,550.1434 15,540.1434 L15,480.1434 " fill="#FFFFFF" filter="url(#f160sgze0lyuh4)" style="stroke:#000000;stroke-width:1.5;"/><path d="M15,480.1434 C15,490.1434 105,490.1434 105,490.1434 C105,490.1434 195,490.1434 195,480.1434 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><!--MD5=[626f3a442fe3a626625c0ca80a690312]
entity IoTHub--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="85" x="537.5" y="21.1434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="602.5" y="26.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="600.5" y="28.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="600.5" y="32.1434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="552.5" y="55.6766">IoTHub</text><!--MD5=[9fbb47e28fa0e702e2726299116271bb]
entity control API(3)--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="126" x="198" y="253.1434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="304" y="258.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="302" y="260.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="302" y="264.1434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="213" y="287.6766">control API(3)</text><!--MD5=[71466820cf8ba2888156e383d10fcdbd]
entity identity manager core(1)--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="195" x="359.5" y="253.1434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="534.5" y="258.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="532.5" y="260.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="532.5" y="264.1434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="374.5" y="287.6766">identity manager core(1)</text><!--MD5=[a20f41b8c62abf838e1e26e2836405db]
entity IoTHub client(2)--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="140" x="510" y="145.1434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="630" y="150.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="628" y="152.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="628" y="156.1434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="525" y="179.6766">IoTHub client(2)</text><!--MD5=[85157e2149fa308ef4b4c53c686ac2f0]
entity config parser(4)--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="141" x="386.5" y="369.6434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="507.5" y="374.6434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="505.5" y="376.6434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="505.5" y="380.6434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="401.5" y="404.1766">config parser(4)</text><!--MD5=[af0c62c3c295c81a706bce4ae396d127]
entity secret parser(5)--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="142" x="563" y="369.6434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="685" y="374.6434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="683" y="376.6434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="683" y="380.6434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="578" y="404.1766">secret parser(5)</text><!--MD5=[3b51ec6d47dce092ae9ed277c38ba527]
entity identity plugin(6)--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="145" x="32.5" y="369.6434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="157.5" y="374.6434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="155.5" y="376.6434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="155.5" y="380.6434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="47.5" y="404.1766">identity plugin(6)</text><!--MD5=[92e325bee8bb442d96ecdbeef9814cf8]
entity in memory\nidentity store(7)--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="65.2188" style="stroke:#A80036;stroke-width:1.5;" width="139" x="212.5" y="361.1434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="331.5" y="366.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="329.5" y="368.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="329.5" y="372.1434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="227.5" y="395.6766">in memory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="227.5" y="413.2859">identity store(7)</text><!--MD5=[b9c39c5803b6da03bfcd26caa52f8f17]
entity server plugin(8)--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="140" x="335" y="145.1434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="455" y="150.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="453" y="152.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="453" y="156.1434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="350" y="179.6766">server plugin(8)</text><!--MD5=[2cf71ceab577e55ec23cc387be033e18]
entity IoTEdge SPIFFE server(10)--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="215" x="84.5" y="145.1434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="279.5" y="150.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="277.5" y="152.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="277.5" y="156.1434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="99.5" y="179.6766">IoTEdge SPIFFE server(10)</text><!--MD5=[8d3ffd2e283615c5e68e6af424721b93]
entity identity store(13)--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="147" x="31.5" y="486.1434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="158.5" y="491.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="156.5" y="493.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="156.5" y="497.1434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="46.5" y="520.6766">identity store(13)</text><!--MD5=[43c07b40ad0dc492bdc9ae4b96c9a5e4]
entity config map(11)--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="135" x="389.5" y="486.1434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="504.5" y="491.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="502.5" y="493.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="502.5" y="497.1434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="404.5" y="520.6766">config map(11)</text><!--MD5=[c01790ecb0174244c24ee7320f7589bd]
entity secrets(12)--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="112" x="578" y="486.1434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="670" y="491.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="668" y="493.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="668" y="497.1434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="593" y="520.6766">secrets(12)</text><!--MD5=[b50cb09452f10f3d7305ba889ae320e0]
entity SPIRE server(9)--><rect fill="#FEFECE" filter="url(#f160sgze0lyuh4)" height="47.6094" style="stroke:#A80036;stroke-width:1.5;" width="142" x="334" y="21.1434"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="456" y="26.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="454" y="28.1434"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="454" y="32.1434"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="349" y="55.6766">SPIRE server(9)</text><!--MD5=[cc6f6fd3f9a817cd6d4e62534803b088]
link control API(3) to identity manager core(1)--><path d="M324.16,277.1434 C334.18,277.1434 344.2,277.1434 354.21,277.1434 " fill="none" id="control API(3)-to-identity manager core(1)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="359.45,277.1434,350.45,273.1434,354.45,277.1434,350.45,281.1434,359.45,277.1434" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[3706c1d34a46cb4f9b7319b2b45852cf]
reverse link IoTHub to IoTHub client(2)--><path d="M580,74.6434 C580,96.0534 580,125.0134 580,144.9934 " fill="none" id="IoTHub-backto-IoTHub client(2)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="580,69.3734,576,78.3734,580,74.3734,584,78.3734,580,69.3734" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[88bfe93c7c9bfb3e693c66acf6343502]
link identity manager core(1) to config parser(4)--><path d="M457,301.3134 C457,319.4734 457,344.8234 457,364.2034 " fill="none" id="identity manager core(1)-to-config parser(4)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="457,369.5034,461,360.5034,457,364.5034,453,360.5034,457,369.5034" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0a4814d581eba49160e49fd0a7938915]
link identity manager core(1) to secret parser(5)--><path d="M492.82,301.3134 C522.09,320.2434 563.44,347.0034 593.83,366.6634 " fill="none" id="identity manager core(1)-to-secret parser(5)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="598.23,369.5034,592.8422,361.2588,594.0306,366.7895,588.5,367.9779,598.23,369.5034" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[32737a7cec7e1375378d8f6b58ad8c65]
reverse link IoTHub client(2) to identity manager core(1)--><path d="M549.38,196.5334 C529.33,213.8134 503.36,236.1934 484.06,252.8234 " fill="none" id="IoTHub client(2)-backto-identity manager core(1)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="553.31,193.1434,543.885,196.0014,549.5268,196.4126,549.1157,202.0545,553.31,193.1434" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b2a29a5a968d71a04039fef5a562c014]
link identity manager core(1) to identity plugin(6)--><path d="M382.27,301.1634 C329.75,317.5034 257.92,340.1734 195,361.1434 C188.62,363.2734 181.99,365.5134 175.36,367.7934 " fill="none" id="identity manager core(1)-to-identity plugin(6)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="170.3,369.5334,180.112,370.3846,175.0275,367.9052,177.5069,362.8206,170.3,369.5334" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[450d8441859e519c511a751f218c4912]
link identity plugin(6) to in memory\nidentity store(7)--><path d="M177.6,393.6434 C187.44,393.6434 197.28,393.6434 207.12,393.6434 " fill="none" id="identity plugin(6)-to-in memory\nidentity store(7)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="212.26,393.6434,203.26,389.6434,207.26,393.6434,203.26,397.6434,212.26,393.6434" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b44894ba3f41c4d861197be17b0bae3d]
reverse link server plugin(8) to identity manager core(1)--><path d="M418.58,197.8334 C426.97,214.9234 437.61,236.6134 445.56,252.8234 " fill="none" id="server plugin(8)-backto-identity manager core(1)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="416.28,193.1434,416.6394,202.9857,418.4761,197.6353,423.8264,199.472,416.28,193.1434" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f578021e82fac045ba4ef7309f35c79f]
reverse link IoTEdge SPIFFE server(10) to server plugin(8)--><path d="M304.94,169.1434 C314.86,169.1434 324.78,169.1434 334.69,169.1434 " fill="none" id="IoTEdge SPIFFE server(10)-backto-server plugin(8)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="299.75,169.1434,308.75,173.1434,304.75,169.1434,308.75,165.1434,299.75,169.1434" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[094700ba3a2f362e43c8d654ecf8169e]
link server plugin(8) to IoTHub client(2)--><!--MD5=[04070894f29564fa5d3149b10903306c]
link config parser(4) to config map(11)--><path d="M457,417.8134 C457,435.9734 457,461.3234 457,480.7034 " fill="none" id="config parser(4)-to-config map(11)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="457,486.0034,461,477.0034,457,481.0034,453,477.0034,457,486.0034" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4dbed4aa4497b61d6df2e8ca0f7a3c8a]
link secret parser(5) to secrets(12)--><path d="M634,417.8134 C634,435.9734 634,461.3234 634,480.7034 " fill="none" id="secret parser(5)-to-secrets(12)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="634,486.0034,638,477.0034,634,481.0034,630,477.0034,634,486.0034" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[aee85f3e43ce8038cdbc8d2157b59efd]
reverse link SPIRE server(9) to server plugin(8)--><path d="M405,74.6434 C405,96.0534 405,125.0134 405,144.9934 " fill="none" id="SPIRE server(9)-backto-server plugin(8)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="405,69.3734,401,78.3734,405,74.3734,409,78.3734,405,69.3734" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[50f94dfa1a5574b7901e06b0280ddc36]
link identity plugin(6) to identity store(13)--><path d="M105,417.8134 C105,435.9734 105,461.3234 105,480.7034 " fill="none" id="identity plugin(6)-to-identity store(13)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="105,486.0034,109,477.0034,105,481.0034,101,477.0034,105,486.0034" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[205bc039778703c5e74bf85be8fa7fa8]
@startuml IoTEdge_Identity_manager

cloud {
[IoTHub]
}

package "identity manager" {
[control API(3)]->[identity manager core(1)]
[IoTHub client(2)] -up-> [IoTHub]
[identity manager core(1)] -down-> [config parser(4)] 
[identity manager core(1)] -down-> [secret parser(5)]
[identity manager core(1)] -up-> [IoTHub client(2)]
[identity manager core(1)] -down-> [identity plugin(6)]
[identity plugin(6)] -right-> [in memory\nidentity store(7)]
[identity manager core(1)]-up->[server plugin(8)] 
[server plugin(8)]-left->[IoTEdge SPIFFE server(10)]
[server plugin(8)]-[hidden]right->[IoTHub client(2)]
}

[config parser(4)] -down-> [config map(11)] 
[secret parser(5)] -down-> [secrets(12)] 
[server plugin(8)] -up-> [SPIRE server(9)]

database {
[identity plugin(6)] -down-> [identity store(13)]
}


@enduml

PlantUML version 1.2022.0(Tue Jan 11 08:16:42 PST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>